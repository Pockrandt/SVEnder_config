[output_pin BEEPER_pin]
pin: rpi:gpio21
#   Beeper pin. This parameter must be provided.
pwm: True
#   A piezo beeper needs a PWM signal, a DC buzzer doesn't.
value: 0
#   Silent at power on, set to 1 if active low.
shutdown_value: 0
#   Disable at emergency shutdown (no PWM would be available anyway).
cycle_time: 0.001
#   Default PWM frequency : 0.001 = 1ms will give a tone of 1kHz
#   Although not pitch perfect.

[gcode_macro M300]
gcode:
    # Use a default 1kHz tone if S is omitted.
    {% set S = params.S|default(1000)|int %}
    # Use a 10ms duration is P is omitted.
    {% set P = params.P|default(100)|int %}
    SET_PIN PIN=BEEPER_pin VALUE=0.5 CYCLE_TIME={ 1.0/S if S > 0 else 1 }
    G4 P{P}
    SET_PIN PIN=BEEPER_pin VALUE=0


[delayed_gcode _on_boot_beep]
initial_duration: 1
gcode:
    _beep_boot

[gcode_macro _beep_boot]
gcode:
    M300 S1000 P500

[gcode_macro _beep_shutdown]
gcode:
    M300 S1000 P500

[gcode_macro _beep_preheated]
gcode:
    M300 S1000 P500

[gcode_macro _beep_caution_printer_moving]
gcode:
    M300 S440 P200
    M300 S660 P250
    M300 S880 P300

[gcode_macro _beep_done]
gcode:
    M300 S440 P200
    M300 S660 P250
    M300 S880 P300

[gcode_macro _beep_print_pause]
gcode:
    M300 S1000 P500

[gcode_macro _beep_print_resume]
gcode:
    M300 S1000 P500

[gcode_macro _beep_print_cancel]
gcode:
    M300 S1000 P500

[gcode_macro _beep_filament_change]
gcode:
    M300 S1000 P500

[gcode_macro _beep_filament_runout]
gcode:
    M300 S1000 P500


######### Fun Zone
# midi to rtttl http://midi.mathewvp.com/midi2RTTL.htm
# rtttl to gcode https://ddrboxman.github.io/RepRapRingtone/

[gcode_macro beep_always_startrek]
gcode:
  M300 S1396 P714
  M300 S932 P238
  M300 S2489 P1428
  M300 S2349 P476
  M300 S932 P357
  M300 S1567 P357
  M300 S2093 P357
  M300 S2793 P952

[gcode_macro beep_always_coca_cola]
gcode:
  M300 S2959 P240
  M300 S2959 P240
  M300 S2959 P240
  M300 S2959 P240
  M300 S3135 P480
  M300 S2959 P240
  M300 S2637 P480
  M300 S2637 P240
  M300 S1760 P240
  M300 S2959 P480
  M300 S2349 P480
  M300 S0 P960

[gcode_macro beep_MarioBros]
gcode:
  M300 S2637 P150
  M300 S2637 P150
  M300 S0 P75
  M300 S2637 P300
  M300 S2093 P150
  M300 S2637 P300
  M300 S3135 P300
  M300 S0 P300
  M300 S1567 P300
  M300 S0 P300
  M300 S2093 P300
  M300 S0 P150
  M300 S1567 P300
  M300 S0 P150
  M300 S1318 P300
  M300 S0 P150
  M300 S880 P300
  M300 S987 P300
  M300 S932 P150
  M300 S880 P300
  M300 S1567 P225
  M300 S2637 P150
  M300 S3135 P150
  M300 S1760 P300
  M300 S2793 P150
  M300 S3135 P300
  M300 S2637 P300
  M300 S2093 P150
  M300 S2349 P150
  M300 S987 P300
  M300 S0 P150
  M300 S2093 P300
  M300 S0 P150
  M300 S1567 P300
  M300 S0 P150
  M300 S1318 P300
  M300 S0 P150
  M300 S880 P300
  M300 S987 P300
  M300 S932 P150
  M300 S880 P300
  M300 S1567 P225
  M300 S2637 P150
  M300 S3135 P150
  M300 S1760 P300
  M300 S2793 P150
  M300 S3135 P300
  M300 S2637 P300
  M300 S2093 P150
  M300 S2349 P150
  M300 S987 P300
  M300 S0 P300
  M300 S3135 P150
  M300 S2959 P150
  M300 S2793 P150
  M300 S2489 P150
  M300 S0 P150
  M300 S2637 P150
  M300 S0 P150
  M300 S1661 P150
  M300 S880 P150
  M300 S2093 P150
  M300 S0 P150
  M300 S880 P150
  M300 S2093 P150
  M300 S2349 P150
  M300 S0 P300
  M300 S3135 P150
  M300 S2959 P150
  M300 S2793 P150
  M300 S2489 P150
  M300 S0 P150
  M300 S2637 P150
  M300 S0 P150
  M300 S4186 P150
  M300 S0 P150
  M300 S4186 P150
  M300 S4186 P150
  M300 S0 P600
  M300 S3135 P150
  M300 S2959 P150
  M300 S2793 P150
  M300 S2489 P150
  M300 S0 P150
  M300 S2637 P150
  M300 S0 P150
  M300 S1661 P150
  M300 S880 P150
  M300 S2093 P150
  M300 S0 P150
  M300 S880 P150
  M300 S2093 P150
  M300 S2349 P150
  M300 S0 P300
  M300 S2489 P150
  M300 S0 P300
  M300 S2349 P150
  M300 S0 P300
  M300 S2093 P150

[gcode_macro beep_Rammstein_Du_Hast]
gcode:
   M300 S1760 P93
   M300 S3135 P93
   M300 S2349 P93
   M300 S0 P93
   M300 S2793 P93
   M300 S0 P93
   M300 S2637 P93
   M300 S0 P93
   M300 S880 P187
   M300 S2349 P93
   M300 S2793 P93
   M300 S3135 P93
   M300 S0 P93
   M300 S2637 P93
   M300 S0 P187
   M300 S1760 P93
   M300 S3135 P93
   M300 S2349 P93
   M300 S2793 P93
   M300 S2637 P93
   M300 S880 P93
   M300 S2637 P93
   M300 S2793 P93
   M300 S3135 P93
   M300 S2637 P187

[gcode_macro beep_Zelda_theme]
gcode:
   M300 S932 P600
   M300 S1396 P600
   M300 S0 P300
   M300 S932 P150
   M300 S2093 P150
   M300 S2349 P150
   M300 S2489 P150
   M300 S2793 P600
   M300 S0 P600
   M300 S2793 P300
   M300 S2793 P300
   M300 S2959 P150
   M300 S3322 P150
   M300 S1864 P600
   M300 S0 P600
   M300 S1864 P300
   M300 S1864 P150
   M300 S0 P150
   M300 S3322 P150
   M300 S2959 P150
   M300 S3322 P300
   M300 S2959 P150
   M300 S2793 P600
   M300 S0 P600
   M300 S2793 P600
   M300 S2489 P300
   M300 S2489 P150
   M300 S2793 P150
   M300 S2959 P600
   M300 S0 P600
   M300 S2793 P300
   M300 S2489 P300
   M300 S2217 P300
   M300 S2217 P150
   M300 S2489 P150
   M300 S2793 P600
   M300 S0 P600
   M300 S2489 P300
   M300 S2217 P300
   M300 S2093 P300
   M300 S2093 P150
   M300 S2349 P150
   M300 S2637 P600
   M300 S0 P600
   M300 S3135 P600
   M300 S2793 P1200

[gcode_macro beep_Pacman]
gcode:
    M300 S0 P66 
    M300 S987 P66 
    M300 S0 P66 
    M300 S1975 P66 
    M300 S0 P66 
    M300 S2959 P66 
    M300 S0 P66 
    M300 S2489 P66 
    M300 S0 P66 
    M300 S1975 P66 
    M300 S2959 P66 
    M300 S0 P133 
    M300 S2489 P133 
    M300 S0 P133 
    M300 S2093 P66 
    M300 S0 P66 
    M300 S4186 P66 
    M300 S0 P66 
    M300 S3135 P66 
    M300 S0 P66 
    M300 S2637 P66 
    M300 S0 P66 
    M300 S4186 P66 
    M300 S3135 P66 
    M300 S0 P133 
    M300 S2637 P133 
    M300 S0 P133 
    M300 S987 P66 
    M300 S0 P66 
    M300 S1975 P66 
    M300 S0 P66 
    M300 S2959 P66 
    M300 S0 P66 
    M300 S2489 P66 
    M300 S0 P66 
    M300 S1975 P66 
    M300 S2959 P66 
    M300 S0 P133 
    M300 S2489 P133 
    M300 S0 P133 
    M300 S2489 P66 
    M300 S2637 P66 
    M300 S2793 P66 
    M300 S0 P66 
    M300 S2793 P66 
    M300 S2959 P66 
    M300 S3135 P66 
    M300 S0 P66 
    M300 S3135 P66 
    M300 S3322 P66 
    M300 S1760 P66 
    M300 S0 P66 
    M300 S1975 P100

[gcode_macro beep_final_countdown]
gcode:
    M300 S2093 P120
    M300 S932 P120
    M300 S2093 P480
    M300 S1396 P960
    M300 S2217 P120
    M300 S2093 P120
    M300 S2217 P240
    M300 S2093 P240
    M300 S932 P960
    M300 S2217 P120
    M300 S2093 P120
    M300 S2217 P480
    M300 S1396 P960
    M300 S932 P120
    M300 S1661 P120
    M300 S932 P240
    M300 S1661 P240
    M300 S1567 P240
    M300 S932 P240
    M300 S1661 P960
    M300 S1567 P120
    M300 S1661 P120
    M300 S932 P960
    M300 S1661 P120
    M300 S932 P120
    M300 S2093 P240
    M300 S932 P240
    M300 S1661 P240
    M300 S1567 P240
    M300 S1396 P480
    M300 S2217 P480
    M300 S2093 P1920
    M300 S2093 P120
    M300 S2217 P120
    M300 S2093 P120
    M300 S932 P120
    M300 S2093 P1920

[gcode_macro beep_imperial_march_short]
gcode:
    M300 S392 P436
    M300 S0 P109
    M300 S392 P436
    M300 S0 P109
    M300 S392 P436
    M300 S0 P109
    M300 S311 P326
    M300 S0 P81
    M300 S466 P108
    M300 S0 P27
    M300 S392 P436
    M300 S0 P109
    M300 S311 P326
    M300 S0 P81
    M300 S466 P108
    M300 S0 P27
    M300 S392 P872
    M300 S0 P218
    M300 S587 P436
    M300 S0 P109
    M300 S587 P436
    M300 S0 P109
    M300 S587 P436
    M300 S0 P109
    M300 S622 P326
    M300 S0 P81
    M300 S466 P108
    M300 S0 P27
    M300 S370 P436
    M300 S0 P109
    M300 S311 P326
    M300 S0 P81
    M300 S466 P108
    M300 S0 P27
    M300 S392 P872
    M300 S0 P218
    M300 S784 P436
    M300 S0 P109
    M300 S392 P326
    M300 S0 P81

[gcode_macro beep_mission_impossible]
gcode:
    M300 S2349 P75
    M300 S2489 P75
    M300 S2349 P75
    M300 S2489 P75
    M300 S2349 P75
    M300 S2489 P75
    M300 S2349 P75
    M300 S2489 P75
    M300 S2349 P75
    M300 S2349 P75
    M300 S2489 P75
    M300 S2637 P75
    M300 S2793 P75
    M300 S2959 P75
    M300 S3135 P75
    M300 S3135 P150
    M300 S0 P300
    M300 S3135 P150
    M300 S0 P300
    M300 S1864 P150
    M300 S0 P150
    M300 S4186 P150
    M300 S0 P150
    M300 S3135 P150
    M300 S0 P300
    M300 S3135 P150
    M300 S0 P300
    M300 S2793 P150
    M300 S0 P150
    M300 S2959 P150
    M300 S0 P150
    M300 S3135 P150
    M300 S0 P300
    M300 S3135 P150
    M300 S0 P300
    M300 S1864 P150
    M300 S0 P150
    M300 S4186 P150
    M300 S0 P150
    M300 S3135 P150
    M300 S0 P300
    M300 S3135 P150
    M300 S0 P300
    M300 S2793 P150
    M300 S0 P150
    M300 S2959 P150
    M300 S0 P150
    M300 S1864 P150
    M300 S3135 P150
    M300 S2349 P1200
    M300 S0 P75
    M300 S1864 P150
    M300 S3135 P150
    M300 S2217 P1200
    M300 S0 P75
    M300 S1864 P150
    M300 S3135 P150
    M300 S2093 P1200
    M300 S0 P150
    M300 S932 P150
    M300 S2093 P150